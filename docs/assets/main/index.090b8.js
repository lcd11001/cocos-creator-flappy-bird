System.register("chunks:///_virtual/Bird.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameControl.ts"],(function(o){var t,i,n,e,r,l,a,s,c,u,p,h,d,g,m,y,f;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){r=o.cclegacy,l=o._decorator,a=o.CCFloat,s=o.Animation,c=o.RigidBody2D,u=o.Collider2D,p=o.Contact2DType,h=o.Vec3,d=o.Vec2,g=o.director,m=o.tween,y=o.Component},function(o){f=o.GameControl}],execute:function(){var C,B,w,b,D,v,j,z,E;r._RF.push({},"bac99rLWs5LQ7IE6IzoYxWZ","Bird",void 0);var L=l.ccclass,_=l.property;o("Bird",(C=L("Bird"),B=_({type:a,tooltip:"how high can they fly"}),w=_({type:a,tooltip:"how long can they fly"}),b=_({type:f}),C((j=t((v=function(o){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=o.call.apply(o,[this].concat(r))||this,n(t,"jumpHeight",j,e(t)),n(t,"jumpDuration",z,e(t)),n(t,"gameControl",E,e(t)),t.animation=null,t.location=new h(0,0,0),t.collider=null,t.rigidBody=null,t}i(t,o);var r=t.prototype;return r.onLoad=function(){this.animation=this.node.getComponent(s),this.rigidBody=this.node.getComponent(c),this.collider=this.node.getComponent(u),this.collider.on(p.BEGIN_CONTACT,this.onCollisionEnter,this),this.resetBird()},r.onCollisionEnter=function(o,t,i){console.log("onCollisionEnter self",o.node.name),console.log("other",t.node.name),i&&console.log("contact",i),this.gameControl.gameOver()},r.resetBird=function(){this.location=new h(0,0,0),this.node.setPosition(this.location),this.node.setRotationFromEuler(0,0,0),this.rigidBody.linearVelocity=new d(0,0),this.rigidBody.angularVelocity=0,this.rigidBody.wakeUp()},r.fly=function(){g.isPaused()?console.warn("Game is paused"):(this.animation.stop(),m(this.node).by(this.jumpDuration,{position:new h(0,this.jumpHeight,0)},{easing:"smooth"}).start(),this.animation.play())},t}(y)).prototype,"jumpHeight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(v.prototype,"jumpDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(v.prototype,"gameControl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=v))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ground.ts","./Result.ts","./Bird.ts","./PipePool.ts"],(function(e){var t,i,r,n,o,s,a,p,l,u,c,h,f,d,m,y,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.CCInteger,p=e.CCFloat,l=e.input,u=e.Input,c=e.KeyCode,h=e.director,f=e.Component},function(e){d=e.Ground},function(e){m=e.Result},function(e){y=e.Bird},function(e){b=e.PipePool}],execute:function(){var P,v,w,G,g,S,C,T,O,z,K,R,D,E,I,_,L;o._RF.push({},"79daa9X3RpH0KiSKJDh6tZb","GameControl",void 0);var k=s.ccclass,A=s.property;e("GameControl",(P=k("GameControl"),v=A({type:a}),w=A({type:a}),G=A({type:p}),g=A({type:d}),S=A({type:m}),C=A({type:y}),T=A({type:b}),P((K=t((z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"speed",K,n(t)),r(t,"pipeSpeed",R,n(t)),r(t,"pipeInterval",D,n(t)),r(t,"ground",E,n(t)),r(t,"result",I,n(t)),r(t,"bird",_,n(t)),r(t,"pipePool",L,n(t)),t.pipeTimer=0,t.allowSpawnPipe=!1,t.isGameOver=!1,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.initListener(),this.pipePool.initPool()},o.start=function(){this.initGame()},o.initListener=function(){l.on(u.EventType.TOUCH_START,this.onTouchStart,this),l.on(u.EventType.KEY_DOWN,this.onKeyDown,this)},o.onTouchStart=function(e){this.isGameOver&&this.resetGame(),this.bird.fly()},o.onKeyDown=function(e){switch(e.keyCode){case c.SPACE:this.isGameOver||this.bird.fly();break;case c.ESCAPE:this.gameOver();break;case c.KEY_P:this.isGameOver||this.result.addScore();break;default:this.isGameOver&&this.resetGame()}},o.initGame=function(){this.ground.setSpeed(this.speed),this.ground.startLocation(),this.result.showPressAnyKey(),this.isGameOver=!0,h.pause()},o.resetGame=function(){this.result.resetScore(),this.bird.resetBird(),this.pipePool.resetPool(),this.startGame()},o.startGame=function(){this.pipeTimer=this.pipeInterval,this.allowSpawnPipe=!0,this.isGameOver=!1,this.result.hideResult(),h.resume()},o.gameOver=function(){this.allowSpawnPipe=!1,this.isGameOver=!0,this.result.showResult(),h.pause()},o.passPipe=function(e){this.result.addScore(),this.pipePool.recyclePipe(e)},o.spwanPipe=function(){this.pipePool.getPipe()},o.update=function(e){this.allowSpawnPipe&&(this.pipeTimer+=e,this.pipeTimer>=this.pipeInterval&&(this.pipeTimer=0,this.spwanPipe()))},t}(f)).prototype,"speed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),R=t(z.prototype,"pipeSpeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),D=t(z.prototype,"pipeInterval",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),E=t(z.prototype,"ground",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(z.prototype,"result",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"bird",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(z.prototype,"pipePool",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=z))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ground.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,i,e,r,u,s,d,a,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,s=t.Node,d=t.UITransform,a=t.Vec3,p=t.Component}],execute:function(){var c,h,l,g,f,G,y,v,m;r._RF.push({},"70472WPEE5FLq8NSuksqDmG","Ground",void 0);var b=u.ccclass,w=u.property;t("Ground",(c=b("Ground"),h=w({type:s,tooltip:"Ground 1 asset"}),l=w({type:s,tooltip:"Ground 2 asset"}),g=w({type:s,tooltip:"Ground 3 asset"}),c((y=n((G=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,i(n,"ground1",y,e(n)),i(n,"ground2",v,e(n)),i(n,"ground3",m,e(n)),n.moveSpeed=50,n.groundWidth=0,n}o(n,t);var r=n.prototype;return r.onLoad=function(){this.startLocation()},r.setSpeed=function(t){this.moveSpeed=t},r.startLocation=function(){this.groundWidth=this.ground1.getComponent(d).width,this.ground1.setPosition(new a(0,0,0)),this.ground2.setPosition(new a(this.groundWidth,0,0)),this.ground3.setPosition(new a(2*this.groundWidth,0,0))},r.moveGround=function(t,n){var o=t.position.x,i=this.moveSpeed*n;return o-=i,t.setPosition(new a(o,t.position.y,t.position.z)),i},r.isOutOfScreen=function(t){return t.position.x<-this.groundWidth},r.resetGround=function(t,n){t.setPosition(n)},r.updateGround=function(t,n,o){var i=this.moveGround(t,n);this.isOutOfScreen(t)&&this.resetGround(t,new a(o.position.x+this.groundWidth-i,0,0))},r.update=function(t){this.updateGround(this.ground3,t,this.ground2),this.updateGround(this.ground2,t,this.ground1),this.updateGround(this.ground1,t,this.ground3)},n}(p)).prototype,"ground1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(G.prototype,"ground2",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(G.prototype,"ground3",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=G))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Bird.ts","./GameControl.ts","./Ground.ts","./PipePool.ts","./Pipes.ts","./Result.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PipePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pipes.ts"],(function(e){var o,t,i,r,n,p,l,a,c,s,u,P,f;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,p=e._decorator,l=e.Prefab,a=e.CCInteger,c=e.Node,s=e.instantiate,u=e.NodePool,P=e.Component},function(e){f=e.Pipes}],execute:function(){var h,y,b,d,v,g,m,z,w;n._RF.push({},"b2274y2QGJIK7jTvU48C9vt","PipePool",void 0);var C=p.ccclass,S=p.property;e("PipePool",(h=C("PipePool"),y=S({type:l,tooltip:"Pipe Prefab"}),b=S({type:a,tooltip:"The number of pipes"}),d=S({type:c,tooltip:"The pipe pool node"}),h((m=o((g=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),p=0;p<t;p++)n[p]=arguments[p];return o=e.call.apply(e,[this].concat(n))||this,i(o,"pipePrefab",m,r(o)),i(o,"poolSize",z,r(o)),i(o,"root",w,r(o)),o.pipePool=new u("Pipes"),o}t(o,e);var n=o.prototype;return n.initPool=function(){for(var e=0;e<this.poolSize;e++){var o=this.createPipe();this.pipePool.put(o)}},n.createPipe=function(){return s(this.pipePrefab)},n.getPipe=function(){0==this.pipePool.size()&&(this.pipePool.put(this.createPipe()),console.warn("pipe pool is empty, create new pipe"));var e=this.pipePool.get();return this.root.addChild(e),e.getComponent(f)},n.recyclePipe=function(e){e.node.removeFromParent(),this.pipePool.put(e.node)},n.resetPool=function(){for(;this.root.children.length>0;){var e=this.root.children[0];this.recyclePipe(e.getComponent(f))}},o}(P)).prototype,"pipePrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=o(g.prototype,"poolSize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=o(g.prototype,"root",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/Pipes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameControl.ts"],(function(e){var t,i,o,n,p,s,r,a,l,c,u,h,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){p=e.cclegacy,s=e._decorator,r=e.Node,a=e.CCInteger,l=e.Collider2D,c=e.find,u=e.UITransform,h=e.Vec3,f=e.Component},function(e){m=e.GameControl}],execute:function(){var d,g,b,P,y,z,C,v,w,S,O,T,x,X,G,L,B,D,_,I,A;p._RF.push({},"59164Sa2AhEJ4BHWDO2EUmC","Pipes",void 0);var E=s.ccclass,F=s.property,H=function(e,t){return Math.random()*(t-e)+e};e("Pipes",(d=E("Pipes"),g=F({type:r,tooltip:"The top pipe node"}),b=F({type:r,tooltip:"The bottom pipe node"}),P=F({type:a,tooltip:"The speed of the pipe"}),y=F({type:a,tooltip:"The randomize gap distance between the pipes",readonly:!0}),z=F({type:a,tooltip:"The min gap distance between the pipes",step:1}),C=F({type:a,tooltip:"The max gap distance between the pipes",step:1}),v=F({type:a,tooltip:"The randomize offset of pipe",readonly:!0}),w=F({type:a,tooltip:"The min offset of pipe",step:1}),S=F({type:a,tooltip:"The max offset of pipe",step:1}),d((x=t((T=function(e){function t(){for(var t,i=arguments.length,p=new Array(i),s=0;s<i;s++)p[s]=arguments[s];return t=e.call.apply(e,[this].concat(p))||this,o(t,"topPipe",x,n(t)),o(t,"bottomPipe",X,n(t)),o(t,"speed",G,n(t)),o(t,"gap",L,n(t)),o(t,"minGap",B,n(t)),o(t,"maxGap",D,n(t)),o(t,"offset",_,n(t)),o(t,"minOffset",I,n(t)),o(t,"maxOffset",A,n(t)),t.pipeLocation=new h(0,0,0),t.canvasSizeX=0,t.pipeSizeX=0,t.startPipeX=0,t.isOutOfScreen=!1,t.gameControl=null,t.colliderTop=null,t.colliderBottom=null,t}i(t,e);var p=t.prototype;return p.onLoad=function(){console.log("pipe on load",this.node.uuid),this.getColliders(),this.getCanvasSize(),this.getPipeSpeed(),this.getPipesSize(),this.initPipe()},p.getColliders=function(){this.colliderTop=this.topPipe.getComponent(l),this.colliderBottom=this.bottomPipe.getComponent(l)},p.getPipeSpeed=function(){var e=c("GameControl");e&&(this.gameControl=e.getComponent(m),this.speed=this.gameControl.pipeSpeed)},p.getPipesSize=function(){if(this.topPipe){var e=this.topPipe.getComponent(u);this.pipeSizeX=e.width*e.node.scale.x}},p.getCanvasSize=function(){var e=c("Canvas");e&&(this.canvasSizeX=e.getComponent(u).width)},p.initPipe=function(){this.gap=H(this.minGap,this.maxGap),this.offset=H(this.minOffset,this.maxOffset);var e=new h(0,this.offset+.5*this.gap,0),t=new h(0,this.offset-.5*this.gap,0);this.topPipe.setPosition(e),this.bottomPipe.setPosition(t),this.startPipeX=.5*this.canvasSizeX+this.pipeSizeX,this.pipeLocation=new h(this.startPipeX,0,0),this.node.setPosition(this.pipeLocation)},p.update=function(e){this.isOutOfScreen||(this.movePipe(this.speed,e),this.isPipeOut()&&this.gameControl.passPipe(this))},p.movePipe=function(e,t){this.pipeLocation.x-=e*t,this.node.setPosition(this.pipeLocation)},p.isPipeOut=function(){return this.pipeLocation.x<-this.startPipeX},p.reuse=function(){console.log("reuse pipe"),this.initPipe(),this.isOutOfScreen=!1,this.colliderTop&&this.colliderBottom&&(this.colliderTop.enabled=!0,this.colliderBottom.enabled=!0)},p.unuse=function(){console.log("unuse pipe"),this.isOutOfScreen=!0,this.colliderTop&&this.colliderBottom&&(this.colliderTop.enabled=!1,this.colliderBottom.enabled=!1)},t}(f)).prototype,"topPipe",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(T.prototype,"bottomPipe",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"speed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(T.prototype,"gap",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(T.prototype,"minGap",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),D=t(T.prototype,"maxGap",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),_=t(T.prototype,"offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(T.prototype,"minOffset",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-100}}),A=t(T.prototype,"maxOffset",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),O=T))||O));p._RF.pop()}}}));

System.register("chunks:///_virtual/Result.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,c,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,s=e.Label,a=e.Component}],execute:function(){var h,u,l,p,y,d,S,b,f,g,L;o._RF.push({},"a1c6dIjkERFf6+qW9tMha5d","Result",void 0);var A=c.ccclass,v=c.property;e("Result",(h=A("Result"),u=v({type:s}),l=v({type:s}),p=v({type:s}),y=v({type:s}),h((b=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,r(t,"scoreLabel",b,n(t)),r(t,"topScoreLabel",f,n(t)),r(t,"tryAgainLabel",g,n(t)),r(t,"pressAnyKeyLabel",L,n(t)),t.maxScore=0,t.currentScore=0,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.hideScore(),this.hideHighScore(),this.hideTryAgain(),this.hidePressAnyKey()},o.updateScore=function(e){this.currentScore=e,this.scoreLabel.string=this.currentScore.toString()},o.showScore=function(){this.scoreLabel.node.active=!0},o.hideScore=function(){this.scoreLabel.node.active=!1},o.updateHighScore=function(e){this.maxScore=e,this.topScoreLabel.string="High score: "+this.maxScore},o.showHighScore=function(){this.topScoreLabel.node.active=!0},o.hideHighScore=function(){this.topScoreLabel.node.active=!1},o.resetScore=function(){this.updateScore(0),this.hideResult()},o.addScore=function(){this.updateScore(this.currentScore+1)},o.showTryAgain=function(){this.tryAgainLabel.node.active=!0},o.hideTryAgain=function(){this.tryAgainLabel.node.active=!1},o.showPressAnyKey=function(){this.pressAnyKeyLabel.node.active=!0},o.hidePressAnyKey=function(){this.pressAnyKeyLabel.node.active=!1},o.showResult=function(){this.updateHighScore(Math.max(this.maxScore,this.currentScore)),this.showScore(),this.showHighScore(),this.showTryAgain()},o.hideResult=function(){this.showScore(),this.hideHighScore(),this.hideTryAgain(),this.hidePressAnyKey()},t}(a)).prototype,"scoreLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(S.prototype,"topScoreLabel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(S.prototype,"tryAgainLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(S.prototype,"pressAnyKeyLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=S))||d));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});